<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
  <meta charset="UTF-8"/>
  <title layout:fragment="title">모으냥즈 | 뱅크 인덱스</title>

  <!-- 페이지 전용 CSS -->
  <link rel="stylesheet" th:href="@{/css/bank-index.css}"/>
  <link rel="icon" href="/images/cat.ico" type="image/x-icon"/>

  <!-- 공용(헤더/푸터) 리소스: layout/base가 헤더/푸터를 포함한다면 그대로 사용해도 됨 -->
  <link rel="stylesheet" href="http://localhost:8810/css/header-footer.css" />
  <link rel="stylesheet" href="http://localhost:8810/css/theme.css">
  <link rel="stylesheet" href="http://localhost:8810/css/toggle.css">
  <script defer src="http://localhost:8810/js/token-exp-display.js"></script>
  <script defer src="http://localhost:8810/js/common.js"></script>
  <script defer src="http://localhost:8810/js/adminservice.js"></script>
  <script defer src="http://localhost:8810/js/bankservice.js"></script>
  <script defer src="http://localhost:8810/js/cardservice.js"></script>
  <script defer src="http://localhost:8810/js/transactionservice.js"></script>
  <script defer src="http://localhost:8810/js/theme.js"></script>
</head>
<body>
<!-- ✅ Header -->
	<div id="header"></div>
<section layout:fragment="content">

  <main class="bank-index">

    <!-- Hero -->
    <section class="nx-hero">
      <div class="nx-hero__copy">
        <p class="hello">어서오세요</p>
        <h1 class="username" th:text="${loginId} + ' 님'">guest 님</h1>
        <p class="lead">자산 스냅샷과 빠른 업무를 한 화면에서</p>
        <div class="cta">
          <a href="/bank/charge" class="btn btn-accent">충전하기</a>
          <a href="/bank/transfer" class="btn btn-ghost">송금하기</a>
        </div>
      </div>
      <!-- (아트 영역을 쓰려면 여기에 nx-hero__art 블록을 추가) -->
    </section> <!-- ✅ Hero 섹션 닫힘 -->

    <!-- 메인 그리드 -->
    <section class="nx-grid">

      <!-- 냥코인 보유 -->
      <article class="panel kpi">
        <header class="panel-head">
          <h3>냥코인 보유</h3>
          <span class="pill">보유 현황</span>
        </header>

        <div class="kpi-main">
          <span class="balance"
                th:if="${hasNyang}"
                th:attr="data-balance=${nyang.balance}"
                th:text="${#numbers.formatInteger(nyang.balance, 3, 'COMMA')} + ' 원'">0 원</span>

          <span class="empty-balance" th:if="${!hasNyang}">
            보유한 냥코인이 없습니다.
          </span>

          <div class="sub" th:if="${hasNyang}"
               th:text="'코인 ID: ' + ${nyang.number}">코인 ID: -</div>
        </div>

        <div class="actions">
          <a href="/bank/charge" class="btn btn-dark">충전하기</a>
          <a href="/bank/transfer" class="btn btn-outline">송금하기</a>
        </div>
      </article>

      <!-- 빠른 이동 -->
      <aside class="panel quick">
        <header class="panel-head">
          <h3>빠른 이동</h3>
        </header>
        <nav class="quick-list" aria-label="빠른 이동">
          <a class="q" href="/bank/account/list"><i>💳</i><span>보유 계좌</span></a>
          <a class="q" href="/bank/product/list"><i>🏦</i><span>은행 상품</span></a>
          <a class="q" href="/bank/recommend"><i>✨</i><span>추천 상품</span></a>
          <a class="q" href="/bank/history"><i>📜</i><span>거래 내역</span></a>
        </nav>
      </aside>



<!--
      <section class="panel history">
        <div class="section-head">
          <h3>최근 거래 내역</h3>
          <a href="/bank/history" class="btn btn-outline btn-sm">전체 보기</a>
        </div>


        <div class="empty" th:if="${#lists.isEmpty(NyangCoinHistory)}">
          <div class="ico">😺</div>
          <p>아직 표시할 거래 내역이 없습니다.</p>
        </div>

 
        <div class="table-wrap" th:if="${!#lists.isEmpty(NyangCoinHistory)}">
          <table class="ny-table">
            <thead>
              <tr>
                <th>일시</th>
                <th>구분</th>
                <th class="t-right">금액(원)</th>
                <th class="t-right">잔액(원)</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="h : ${NyangCoinHistory}">
                <td th:text="${h.createdAt != null ? #dates.format(h.createdAt, 'yyyy-MM-dd HH:mm') : ''}">-</td>
                <td>
                  <span class="badge"
                        th:classappend="${h.type}=='CHARGE' ? ' b-success' : (${h.type}=='PAY' ? ' b-danger' : ' b-neutral')"
                        th:text="${h.type}">TYPE</span>
                </td>
                <td class="t-right" th:text="${#numbers.formatInteger(h.amount, 3, 'COMMA')}">10,000</td>
                <td class="t-right" th:text="${#numbers.formatInteger(h.balanceAfter, 3, 'COMMA')}">50,000</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    -->
    </section> <!-- nx-grid -->
  </main>

</section>
<!-- ✅ footer -->
	<div id="footer"></div>
<!-- 페이지 전용 JS -->
<script th:src="@{/js/bank-index.js}"></script>

<!-- ❗ layout/base가 이미 헤더/푸터를 렌더한다면
     아래 두 줄은 넣지 마세요(중복위험).
     꼭 필요하면 layout/base에서 비워둘 때만 사용하세요.
<div id="header"></div>
<div id="footer"></div>
-->
</body>
</html>
